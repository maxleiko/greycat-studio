(self.webpackJsonp=self.webpackJsonp||[]).push([[49],{799:function(e,t,n){"use strict";n.r(t);var r=function(){function e(e){var t=this;this._defaults=e,this._worker=null,this._idleCheckInterval=setInterval(function(){return t._checkIfIdle()},3e4),this._lastUsedTime=0,this._configChangeListener=this._defaults.onDidChange(function(){return t._stopWorker()})}return e.prototype.dispose=function(){clearInterval(this._idleCheckInterval),this._configChangeListener.dispose(),this._stopWorker()},e.prototype._stopWorker=function(){this._worker&&(this._worker.dispose(),this._worker=null),this._client=null},e.prototype._checkIfIdle=function(){this._worker&&(Date.now()-this._lastUsedTime>12e4&&this._stopWorker())},e.prototype._getClient=function(){return this._lastUsedTime=Date.now(),this._client||(this._worker=monaco.editor.createWebWorker({moduleId:"greycat.worker",label:this._defaults.languageId,createData:{languageId:this._defaults.languageId,languageSettings:this._defaults.settings,types:this._defaults.gcTypes,functions:this._defaults.gcFunctions}}),this._client=this._worker.getProxy()),this._client},e.prototype.getLanguageServiceWorker=function(){for(var e,t=this,n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return function(e){var t=function(){},n=function(){},r=new monaco.Promise(function(e,r){t=e,n=r},function(){});return e.then(t,n),r}(this._getClient().then(function(t){return e=t}).then(function(){t._worker&&t._worker.withSyncedResources(n)}).then(function(){return e}))},e}();var o=n(746),i=monaco.Range,a={defaultToken:"invalid",tokenPostfix:".js",keywords:["open","type","function","var","new","gnew","return","null","this","false","true","foreach","csv_foreach","repeat","static","private","if","then","else"],typeKeywords:["string","string_array","int","int_array","bool","bool_array","long","long_array","double","double_array","node","node_array","ulong","ulong_array","ref_array","reference","any","any_node"],operators:["<=",">=","==","!=","===","!==","=>","+","-","*","/","%","!",":","=","+=","-=","*=","/=","%=","#"],symbols:/[=><!~?:&|+\-*\/\^%]+/,escapes:/\\(?:[abfnrtv\\"']|x[0-9A-Fa-f]{1,4}|u[0-9A-Fa-f]{4}|U[0-9A-Fa-f]{8})/,digits:/\d+(_+\d+)*/,octaldigits:/[0-7]+(_+[0-7]+)*/,binarydigits:/[0-1]+(_+[0-1]+)*/,hexdigits:/[[0-9a-fA-F]+(_+[0-9a-fA-F]+)*/,regexpctl:/[(){}\[\]\$\^|\-*+?\.]/,regexpesc:/\\(?:[bBdDfnrstvwWn0\\\/]|@regexpctl|c[A-Z]|x[0-9a-fA-F]{2}|u[0-9a-fA-F]{4})/,tokenizer:{root:[[/[{}]/,"delimiter.bracket"],{include:"common"}],common:[[/[a-z_$][\w$]*/,{cases:{"@typeKeywords":"keyword","@keywords":"keyword","@default":"identifier"}}],[/[A-Z][\w\$]*/,"type.identifier"],{include:"@whitespace"},[/[()\[\]]/,"@brackets"],[/[<>](?!@symbols)/,"@brackets"],[/@symbols/,{cases:{"@operators":"delimiter","@default":""}}],[/(@digits)[eE]([\-+]?(@digits))?/,"number.float"],[/(@digits)\.(@digits)([eE][\-+]?(@digits))?/,"number.float"],[/(@digits)/,"number"],[/[;,.]/,"delimiter"],[/"([^"\\]|\\.)*$/,"string.invalid"],[/'([^'\\]|\\.)*$/,"string.invalid"],[/"/,"string","@string_double"],[/'/,"string","@string_single"],[/`/,"string","@string_backtick"]],whitespace:[[/[ \t\r\n]+/,""],[/\/\*\*(?!\/)/,"comment.doc","@jsdoc"],[/\/\*/,"comment","@comment"],[/\/\/.*$/,"comment"]],comment:[[/[^\/*]+/,"comment"],[/\*\//,"comment","@pop"],[/[\/*]/,"comment"]],jsdoc:[[/[^\/*]+/,"comment.doc"],[/\*\//,"comment.doc","@pop"],[/[\/*]/,"comment.doc"]],string_double:[[/[^\\"]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/"/,"string","@pop"]],string_single:[[/[^\\']+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/'/,"string","@pop"]],string_backtick:[[/\$\{/,{token:"delimiter.bracket",next:"@bracketCounting"}],[/[^\\`$]+/,"string"],[/@escapes/,"string.escape"],[/\\./,"string.escape.invalid"],[/`/,"string","@pop"]],bracketCounting:[[/\{/,"delimiter.bracket","@bracketCounting"],[/\}/,"delimiter.bracket","@pop"],{include:"common"}]}},s=function(){function e(e,t,n){var r=this;this._languageId=e,this._worker=t,this._disposables=[],this._listener={};var o=function(e){var t,n=e.getModeId();n===r._languageId&&(r._listener[e.uri.toString()]=e.onDidChangeContent(function(){clearTimeout(t),t=setTimeout(function(){return r._doValidate(e.uri,n)},500)}),r._doValidate(e.uri,n))},i=function(e){monaco.editor.setModelMarkers(e,r._languageId,[]);var t=e.uri.toString(),n=r._listener[t];n&&(n.dispose(),delete r._listener[t])};this._disposables.push(monaco.editor.onDidCreateModel(o)),this._disposables.push(monaco.editor.onWillDisposeModel(i)),this._disposables.push(monaco.editor.onDidChangeModelLanguage(function(e){i(e.model),o(e.model)})),this._disposables.push({dispose:function(){Object.keys(r._listener).forEach(function(e){r._listener[e].dispose()})}}),n.onDidChange(function(e){monaco.editor.getModels().forEach(function(e){e.getModeId()===r._languageId&&(i(e),o(e))})}),monaco.editor.getModels().forEach(o)}return e.prototype.dispose=function(){this._disposables.forEach(function(e){return e&&e.dispose()}),this._disposables=[]},e.prototype._doValidate=function(e,t){this._worker(e).then(function(t){return monaco.editor.getModel(e)?t.doValidation(e.toString()):null}).then(function(n){if(n){var r=n.map(function(e){return function(e,t){var n="number"===typeof t.code?String(t.code):t.code;return{severity:function(e){switch(e){case o.b.Error:return monaco.MarkerSeverity.Error;case o.b.Warning:return monaco.MarkerSeverity.Warning;case o.b.Information:case o.b.Hint:default:return monaco.MarkerSeverity.Info}}(t.severity),startLineNumber:t.range.start.line,startColumn:t.range.start.character,endLineNumber:t.range.end.line,endColumn:t.range.end.character+1,message:t.message,code:n,source:t.source}}(0,e)});monaco.editor.setModelMarkers(monaco.editor.getModel(e),t,r)}}).done(void 0,function(e){console.error(e)})},e}();function c(e){if(e)return{character:e.column-1,line:e.lineNumber-1}}function u(e){if(e)return new i(e.start.line+1,e.start.character+1,e.end.line+1,e.end.character+1)}var l=function(){function e(e){this._worker=e}return Object.defineProperty(e.prototype,"triggerCharacters",{get:function(){return[":","."]},enumerable:!0,configurable:!0}),e.prototype.provideCompletionItems=function(e,t,n){var r=e.uri;return f(n,this._worker(r).then(function(e){var n=c(t);return n?e.doComplete(r.toString(),n):{isIncomplete:!1,items:[]}}).then(function(e){var t=e.items.map(function(e){var t={label:e.label,insertText:e.insertText,sortText:e.sortText,filterText:e.filterText,documentation:e.documentation,detail:e.detail,kind:function(e){var t=monaco.languages.CompletionItemKind;switch(e){case o.a.Text:return t.Text;case o.a.Method:return t.Method;case o.a.Function:return t.Function;case o.a.Constructor:return t.Constructor;case o.a.Field:return t.Field;case o.a.Variable:return t.Variable;case o.a.Class:return t.Class;case o.a.Interface:return t.Interface;case o.a.Module:return t.Module;case o.a.Property:return t.Property;case o.a.Unit:return t.Unit;case o.a.Value:return t.Value;case o.a.Enum:return t.Enum;case o.a.Keyword:return t.Keyword;case o.a.Snippet:return t.Snippet;case o.a.Color:return t.Color;case o.a.File:return t.File;case o.a.Reference:return t.Reference}return t.Property}(e.kind)};return e.textEdit&&(t.range=u(e.textEdit.range),t.insertText=e.textEdit.newText),e.insertTextFormat===o.c.Snippet&&(t.insertText={value:t.insertText}),t});return{isIncomplete:e.isIncomplete,items:t}}))},e}(),d=function(){function e(e){this._worker=e}return e.prototype.provideHover=function(e,t,n){var r=e.uri;return f(n,this._worker(r).then(function(e){return e.doHover(r.toString(),c(t))}).then(function(e){if(e)return{range:u(e.range),contents:function(e){if(!e)return;if(Array.isArray(e))return e.map(g);return[g(e)]}(e.contents)}}))},e}();function g(e){return"string"===typeof e?{value:e}:(t=e)&&"object"===typeof t&&"string"===typeof t.kind?"plaintext"===e.kind?{value:e.value.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")}:{value:e.value}:{value:"```"+e.language+"\n"+e.value+"\n```\n"};var t}function f(e,t){return e.onCancellationRequested(function(){return t.cancel()}),t}function p(e){var t=new r(e),n=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];return t.getLanguageServiceWorker.apply(t,[e].concat(n))},o=e.languageId;return monaco.languages.setMonarchTokensProvider(o,a),monaco.languages.registerCompletionItemProvider(o,new l(n)),monaco.languages.registerHoverProvider(o,new d(n)),new s(o,n,e),n}n.d(t,"setupMode",function(){return p})}}]);
//# sourceMappingURL=49.008cc2b6.chunk.js.map